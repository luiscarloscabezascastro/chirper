import{q as ot,u as at,i as $t,o as B,g as J,d as m,t as tt,b,k as nt,c as ut,w as A,a as F,e as dt,h as ct,s as lt,f as et,F as rt,H as pt,x as vt}from"./app.e42e0fec.js";import{_ as yt,a as Mt,b as wt}from"./AuthenticatedLayout.e3b5f06f.js";import{_ as ht}from"./InputError.7d6fa3a1.js";import{_ as ft}from"./PrimaryButton.0f012afc.js";import"./ApplicationLogo.66d5afef.js";var mt={exports:{}};(function(M,T){(function($,h){M.exports=h()})(ot,function(){var $=1e3,h=6e4,p=36e5,f="millisecond",w="second",C="minute",H="hour",d="day",S="week",v="month",I="quarter",k="year",O="date",V="Invalid Date",Z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},G=function(o,s,t){var n=String(o);return!n||n.length>=s?o:""+Array(s+1-n.length).join(t)+o},j={s:G,z:function(o){var s=-o.utcOffset(),t=Math.abs(s),n=Math.floor(t/60),e=t%60;return(s<=0?"+":"-")+G(n,2,"0")+":"+G(e,2,"0")},m:function o(s,t){if(s.date()<t.date())return-o(t,s);var n=12*(t.year()-s.year())+(t.month()-s.month()),e=s.clone().add(n,v),i=t-e<0,r=s.clone().add(n+(i?-1:1),v);return+(-(n+(t-e)/(i?e-r:r-e))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:v,y:k,w:S,d,D:O,h:H,m:C,s:w,ms:f,Q:I}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},_="en",x={};x[_]=q;var z=function(o){return o instanceof K},N=function o(s,t,n){var e;if(!s)return _;if(typeof s=="string"){var i=s.toLowerCase();x[i]&&(e=i),t&&(x[i]=t,e=i);var r=s.split("-");if(!e&&r.length>1)return o(r[0])}else{var a=s.name;x[a]=s,e=a}return!n&&e&&(_=e),e||!n&&_},g=function(o,s){if(z(o))return o.clone();var t=typeof s=="object"?s:{};return t.date=o,t.args=arguments,new K(t)},u=j;u.l=N,u.i=z,u.w=function(o,s){return g(o,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var K=function(){function o(t){this.$L=N(t.locale,null,!0),this.parse(t)}var s=o.prototype;return s.parse=function(t){this.$d=function(n){var e=n.date,i=n.utc;if(e===null)return new Date(NaN);if(u.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var r=e.match(Z);if(r){var a=r[2]-1||0,l=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,l)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,l)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},s.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},s.$utils=function(){return u},s.isValid=function(){return this.$d.toString()!==V},s.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},s.isAfter=function(t,n){return g(t)<this.startOf(n)},s.isBefore=function(t,n){return this.endOf(n)<g(t)},s.$g=function(t,n,e){return u.u(t)?this[n]:this.set(e,t)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(t,n){var e=this,i=!!u.u(n)||n,r=u.p(t),a=function(U,D){var W=u.w(e.$u?Date.UTC(e.$y,D,U):new Date(e.$y,D,U),e);return i?W:W.endOf(d)},l=function(U,D){return u.w(e.toDate()[U].apply(e.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(D)),e)},c=this.$W,y=this.$M,L=this.$D,Y="set"+(this.$u?"UTC":"");switch(r){case k:return i?a(1,0):a(31,11);case v:return i?a(1,y):a(0,y+1);case S:var P=this.$locale().weekStart||0,Q=(c<P?c+7:c)-P;return a(i?L-Q:L+(6-Q),y);case d:case O:return l(Y+"Hours",0);case H:return l(Y+"Minutes",1);case C:return l(Y+"Seconds",2);case w:return l(Y+"Milliseconds",3);default:return this.clone()}},s.endOf=function(t){return this.startOf(t,!1)},s.$set=function(t,n){var e,i=u.p(t),r="set"+(this.$u?"UTC":""),a=(e={},e[d]=r+"Date",e[O]=r+"Date",e[v]=r+"Month",e[k]=r+"FullYear",e[H]=r+"Hours",e[C]=r+"Minutes",e[w]=r+"Seconds",e[f]=r+"Milliseconds",e)[i],l=i===d?this.$D+(n-this.$W):n;if(i===v||i===k){var c=this.clone().set(O,1);c.$d[a](l),c.init(),this.$d=c.set(O,Math.min(this.$D,c.daysInMonth())).$d}else a&&this.$d[a](l);return this.init(),this},s.set=function(t,n){return this.clone().$set(t,n)},s.get=function(t){return this[u.p(t)]()},s.add=function(t,n){var e,i=this;t=Number(t);var r=u.p(n),a=function(y){var L=g(i);return u.w(L.date(L.date()+Math.round(y*t)),i)};if(r===v)return this.set(v,this.$M+t);if(r===k)return this.set(k,this.$y+t);if(r===d)return a(1);if(r===S)return a(7);var l=(e={},e[C]=h,e[H]=p,e[w]=$,e)[r]||1,c=this.$d.getTime()+t*l;return u.w(c,this)},s.subtract=function(t,n){return this.add(-1*t,n)},s.format=function(t){var n=this,e=this.$locale();if(!this.isValid())return e.invalidDate||V;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=u.z(this),a=this.$H,l=this.$m,c=this.$M,y=e.weekdays,L=e.months,Y=function(D,W,X,R){return D&&(D[W]||D(n,i))||X[W].slice(0,R)},P=function(D){return u.s(a%12||12,D,"0")},Q=e.meridiem||function(D,W,X){var R=D<12?"AM":"PM";return X?R.toLowerCase():R},U={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:u.s(c+1,2,"0"),MMM:Y(e.monthsShort,c,L,3),MMMM:Y(L,c),D:this.$D,DD:u.s(this.$D,2,"0"),d:String(this.$W),dd:Y(e.weekdaysMin,this.$W,y,2),ddd:Y(e.weekdaysShort,this.$W,y,3),dddd:y[this.$W],H:String(a),HH:u.s(a,2,"0"),h:P(1),hh:P(2),a:Q(a,l,!0),A:Q(a,l,!1),m:String(l),mm:u.s(l,2,"0"),s:String(this.$s),ss:u.s(this.$s,2,"0"),SSS:u.s(this.$ms,3,"0"),Z:r};return i.replace(E,function(D,W){return W||U[D]||r.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(t,n,e){var i,r=u.p(n),a=g(t),l=(a.utcOffset()-this.utcOffset())*h,c=this-a,y=u.m(this,a);return y=(i={},i[k]=y/12,i[v]=y,i[I]=y/3,i[S]=(c-l)/6048e5,i[d]=(c-l)/864e5,i[H]=c/p,i[C]=c/h,i[w]=c/$,i)[r]||c,e?y:u.a(y)},s.daysInMonth=function(){return this.endOf(v).$D},s.$locale=function(){return x[this.$L]},s.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),i=N(t,n,!0);return i&&(e.$L=i),e},s.clone=function(){return u.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},o}(),st=K.prototype;return g.prototype=st,[["$ms",f],["$s",w],["$m",C],["$H",H],["$W",d],["$M",v],["$y",k],["$D",O]].forEach(function(o){st[o[1]]=function(s){return this.$g(s,o[0],o[1])}}),g.extend=function(o,s){return o.$i||(o(s,K,g),o.$i=!0),g},g.locale=N,g.isDayjs=z,g.unix=function(o){return g(1e3*o)},g.en=x[_],g.Ls=x,g.p={},g})})(mt);const it=mt.exports;var gt={exports:{}};(function(M,T){(function($,h){M.exports=h()})(ot,function(){return function($,h,p){$=$||{};var f=h.prototype,w={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function C(d,S,v,I){return f.fromToBase(d,S,v,I)}p.en.relativeTime=w,f.fromToBase=function(d,S,v,I,k){for(var O,V,Z,E=v.$locale().relativeTime||w,q=$.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],G=q.length,j=0;j<G;j+=1){var _=q[j];_.d&&(O=I?p(d).diff(v,_.d,!0):v.diff(d,_.d,!0));var x=($.rounding||Math.round)(Math.abs(O));if(Z=O>0,x<=_.r||!_.r){x<=1&&j>0&&(_=q[j-1]);var z=E[_.l];k&&(x=k(""+x)),V=typeof z=="string"?z.replace("%d",x):z(x,S,_.l,Z);break}}if(S)return V;var N=Z?E.future:E.past;return typeof N=="function"?N(V):N.replace("%s",V)},f.to=function(d,S){return C(d,S,this,!0)},f.from=function(d,S){return C(d,S,this)};var H=function(d){return d.$u?p.utc():p()};f.toNow=function(d){return this.to(H(this),d)},f.fromNow=function(d){return this.from(H(this),d)}}})})(gt);const _t=gt.exports,xt={class:"p-6 flex space-x-2"},Dt=m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-600 -scale-x-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1),St={class:"flex-1"},bt={class:"flex justify-between items-center"},kt={class:"text-gray-800"},Ot={class:"ml-2 text-sm text-gray-600"},Tt={key:0,class:"text-sm text-gray-600"},Ct=m("button",null,[m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[m("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])],-1),Ht=et(" Delete "),Yt={class:"space-x-2"},Nt=et("Save"),Lt={key:1,class:"mt-4 text-lg text-gray-900"},Wt={__name:"Chirp",props:["chirp"],setup(M){const T=M;it.extend(_t);const $=at({message:T.chirp.message}),h=$t(!1);return(p,f)=>(B(),J("div",xt,[Dt,m("div",St,[m("div",bt,[m("div",null,[m("span",kt,tt(M.chirp.user.name),1),m("small",Ot,tt(b(it)(M.chirp.created_at).fromNow()),1),M.chirp.created_at!==M.chirp.updated_at?(B(),J("small",Tt," \xB7 edited")):nt("",!0)]),M.chirp.user.id===p.$page.props.auth.user.id?(B(),ut(Mt,{key:0},{trigger:A(()=>[Ct]),content:A(()=>[m("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:f[0]||(f[0]=w=>h.value=!0)}," Edit "),F(yt,{as:"button",href:p.route("chirps.destroy",M.chirp.id),method:"delete"},{default:A(()=>[Ht]),_:1},8,["href"])]),_:1})):nt("",!0)]),h.value?(B(),J("form",{key:0,onSubmit:f[3]||(f[3]=dt(w=>b($).put(p.route("chirps.update",M.chirp.id),{onSuccess:h.value=!1}),["prevent"]))},[ct(m("textarea",{"onUpdate:modelValue":f[1]||(f[1]=w=>b($).message=w),class:"mt-4 w-full text-gray-900 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[lt,b($).message]]),F(ht,{message:b($).errors.message,class:"mt-2"},null,8,["message"]),m("div",Yt,[F(ft,{class:"mt-4"},{default:A(()=>[Nt]),_:1}),m("button",{class:"mt-4",onClick:f[2]||(f[2]=w=>{h.value=!1,b($).reset()})},"Cancel")])],32)):(B(),J("p",Lt,tt(M.chirp.message),1))])]))}},Bt=m("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Chirps ",-1),Vt={class:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8"},jt=et("Chirp"),zt={class:"mt-6 bg-white shadow-sm rounded-lg divide-y"},Zt={__name:"Index",props:["chirps"],setup(M){const T=at({message:""});return($,h)=>(B(),J(rt,null,[F(b(pt),{title:"Chirps"}),F(wt,null,{header:A(()=>[Bt]),default:A(()=>[m("div",Vt,[m("form",{onSubmit:h[1]||(h[1]=dt(p=>b(T).post($.route("chirps.store"),{onSuccess:()=>b(T).reset()}),["prevent"]))},[ct(m("textarea",{"onUpdate:modelValue":h[0]||(h[0]=p=>b(T).message=p),placeholder:"What's on your mind?",class:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[lt,b(T).message]]),F(ht,{message:b(T).errors.message,class:"mt-2"},null,8,["message"]),F(ft,{class:"mt-4"},{default:A(()=>[jt]),_:1})],32),m("div",zt,[(B(!0),J(rt,null,vt(M.chirps,p=>(B(),ut(Wt,{key:p.id,chirp:p},null,8,["chirp"]))),128))])])]),_:1})],64))}};export{Zt as default};
